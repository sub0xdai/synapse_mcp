---
mcp: synapse
type: rule
title: "Source Code Specific Rules"
tags: ["source", "development", "testing"]
inherits: ["../.synapse.md"]
overrides: ["todo-forbidden", "println-forbidden"]
---

# Source Code Development Rules

This file demonstrates rule inheritance and overrides for the src/ directory.

## Inherited Rules Override Examples

STANDARD: `TODO` - TODOs are allowed in src/ during active development but should be tracked
STANDARD: `println!` - Debug println! allowed in development files but must be removed before production

## Source-Specific Requirements

REQUIRED: `#\[test\]` - All public functions must have corresponding unit tests
REQUIRED: `use` statements - All dependencies must be explicitly imported, no glob imports
FORBIDDEN: `panic!` - Use Result types and proper error handling instead of panic!

## Development Guidelines

STANDARD: `cfg\(test\)` - Test modules should be properly conditionally compiled
STANDARD: `#\[allow\(dead_code\)\]` - Temporary allowance for unused code during development
CONVENTION: `mod tests` - Use standard Rust test module conventions

## Performance Rules (Stricter than global)

FORBIDDEN: `clone\(\)` - Avoid unnecessary clones in hot paths, prefer borrowing
REQUIRED: `#\[inline\]` - Performance-critical functions should consider inlining
STANDARD: Avoid allocations in loops - Pre-allocate collections when size is known

## API Design Rules

REQUIRED: `pub\(crate\)` - Use appropriate visibility modifiers instead of defaulting to pub
STANDARD: `&str` over `String` - Prefer string slices for parameters when ownership not needed
CONVENTION: Use builder pattern for complex constructors with many optional parameters